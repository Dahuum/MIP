# ğŸ­ OCP Predictive Maintenance Hackathon

## Industrial Fan C07 - Failure Prediction System

[![Status](https://img.shields.io/badge/Status-In%20Development-yellow.svg)](https://github.com)
[![Python](https://img.shields.io/badge/Python-3.8%2B-blue.svg)](https://www.python.org/)
[![ML](https://img.shields.io/badge/ML-Scikit--learn%20%7C%20XGBoost-orange.svg)](https://scikit-learn.org/)

---

## ğŸ“‹ Project Overview

**Client:** OCP (Office ChÃ©rifien des Phosphates) - Morocco  
**Challenge:** Predict industrial fan failures 24-48 hours in advance  
**Impact:** $1.5M+ annual savings through predictive maintenance  
**Timeline:** Hackathon Project

### The Problem

Fan C07 on OCP's phosphate production line 307 experienced **22 unexpected failures in 2019**, causing:
- Unplanned production downtime
- Emergency repair costs (2-3x normal maintenance)
- Safety risks
- Reduced equipment lifespan

### Our Solution

AI-powered predictive maintenance system that:
- âœ… Analyzes 6 real-time sensors every minute
- âœ… Predicts failures 24-48 hours in advance
- âœ… Enables proactive maintenance scheduling
- âœ… Reduces downtime by 30%+

---

## ğŸ“Š Dataset

### Sensor Data (`Dataframemin.csv`)
- **Records:** 502,793 complete measurements (minute-by-minute)
- **Period:** March 11, 2019 â†’ February 24, 2020 (~350 days)
- **Sensors:** 6 critical parameters

| Sensor | Description | Units | Critical Level |
|--------|-------------|-------|----------------|
| 307II546 | Motor Current | Amperes | 23-25 A |
| 307TI178A | Temperature (Opposite Side) | Â°C | >85Â°C |
| 307TI178B | Temperature (Motor Side) | Â°C | >85Â°C |
| 307VI746A | Vibration (Opposite Side) | mm/s | >2.5 mm/s |
| 307VI746B | Vibration (Motor Side) | mm/s | >2.5 mm/s |
| 307ZI717 | Valve Opening | % | <10% or >98% |

**âš ï¸ Important:** Skip first 15,609 rows - they contain "No Data" values!

### Failure Log
- **File:** `Maintenance prÃ©dictive/Suivi des arrÃªts_ligne 307_2019.xlsx`
- **Content:** 22 documented failure events with timestamps, descriptions, and root causes

---

## ğŸš€ Quick Start

### 1. Installation

```bash
# Clone or navigate to project directory
cd /Users/mac/Desktop/MIP

# Install required packages
pip install -r requirements.txt
```

### 2. Run Initial Analysis

```bash
# Automated data processing and exploration
python quick_start_analysis.py
```

This script will:
- âœ… Load 502K clean sensor records
- âœ… Compute basic statistics
- âœ… Detect anomalies
- âœ… Create initial features
- âœ… Save processed data to `processed_sensor_data.csv`

### 3. Manual Steps

**Extract failure timestamps:**
1. Open `Maintenance prÃ©dictive/Suivi des arrÃªts_ligne 307_2019.xlsx`
2. Extract failure dates/times and descriptions
3. Save as `failure_events.csv` with format:
   ```
   timestamp,failure_type,duration_hours
   2019-04-15 14:30,Bearing Failure,4.5
   2019-06-22 09:15,Temperature Spike,2.0
   ```

---

## ğŸ“ Project Structure

```
MIP/
â”œâ”€â”€ Dataframemin.csv                    # Main sensor dataset (518K rows)
â”œâ”€â”€ requirements.txt                    # Python dependencies
â”œâ”€â”€ quick_start_analysis.py             # Automated data processing
â”œâ”€â”€ readme.MD                           # This file
â”‚
â”œâ”€â”€ HACKATHON_BRIEFING.md              # Executive summary & action items
â”œâ”€â”€ PROJECT_ANALYSIS.md                # Comprehensive technical analysis
â”‚
â”œâ”€â”€ Maintenance prÃ©dictive/
â”‚   â”œâ”€â”€ HackathonPM.pptx               # Hackathon presentation
â”‚   â”œâ”€â”€ Suivi des arrÃªts_ligne 307_2019.xlsx  # Failure log (22 events)
â”‚   â””â”€â”€ tags mapping.txt               # Sensor descriptions
â”‚
â””â”€â”€ OCP Docs/
    â”œâ”€â”€ Technical documentation (PDFs)
    â”œâ”€â”€ Production calculations (DOCX)
    â””â”€â”€ Compressed data archives (.7z, .zip)
```

---

## ğŸ”¬ Technical Approach

### Phase 1: Data Preparation
- Load clean data (skip rows with "No Data")
- Parse timestamps and sort chronologically
- Extract failure events from Excel
- Create labeled dataset (pre-failure windows)

### Phase 2: Feature Engineering
- **Temporal Features:**
  - Rolling statistics (10min, 1hr, 4hr windows)
  - Rate of change (vibration & temperature trends)
  - Lag features (readings from 1-24 hours ago)

- **Domain-Specific Features:**
  - Temperature differential (motor - opposite)
  - Vibration ratio (motor / opposite)
  - Valve opening anomalies

### Phase 3: Model Development
- **Baseline:** Random Forest Classifier
- **Advanced:** XGBoost with engineered features
- **Stretch Goal:** LSTM for sequential patterns

### Phase 4: Deployment
- Streamlit dashboard for real-time monitoring
- Risk scoring system (0-100 scale)
- Alert system for maintenance teams

---

## ğŸ“ˆ Key Performance Metrics

### Technical Metrics
- **Recall:** >85% (minimize false negatives - critical!)
- **Precision:** >50% (avoid too many false alarms)
- **F1-Score:** >0.65
- **Lead Time:** 24-48 hours advance warning

### Business Metrics
- **Downtime Reduction:** 30%+ (22 â†’ <15 failures/year)
- **Annual Savings:** $1.5M+
- **Equipment Life Extension:** 20%
- **ROI:** 30x (implementation cost vs. annual savings)

---

## ğŸš¨ Critical Insights from Data Analysis

### Anomalies Detected
1. **High Temperature Events:** Peak at 97.6Â°C (normal: 43-80Â°C)
2. **High Vibration Spikes:** Up to 2.9 mm/s (normal: 1.6-2.3 mm/s)
3. **Valve Position Anomalies:** Drops to 3.4% (normal: 90-96%)

### Data Quality
- âœ… 97% complete data (502,793 usable records)
- âš ï¸ Severe class imbalance (0.004% failure rate)
- âœ… High-frequency sampling (1-minute intervals)
- âš ï¸ Multiple failure modes require different detection strategies

---

## ğŸ¯ Success Criteria

### Minimum Viable Product (MVP)
- [ ] Clean dataset loaded and labeled
- [ ] Baseline model trained (>70% recall)
- [ ] Simple dashboard showing risk score
- [ ] Presentation with business case

### Competitive Product
- [ ] Advanced model (>85% recall, <15% false positives)
- [ ] Rich feature engineering (100+ features)
- [ ] Interactive dashboard with real-time simulation
- [ ] ROI demonstration with OCP-specific numbers

### Winning Product
- [ ] Ensemble model (>90% recall)
- [ ] Multi-modal failure detection
- [ ] Professional dashboard with alert system
- [ ] Live demo using actual 2019 failure predictions

---

## ğŸ’¡ Domain Knowledge

### How Industrial Fans Fail

1. **Bearing Degradation** (Most Common)
   - Symptom: Gradual vibration increase
   - Warning Time: 2-4 weeks
   - Detection: Vibration 0.7 â†’ 2.5+ mm/s

2. **Motor Overheating**
   - Symptom: Temperature rise + current draw
   - Warning Time: Hours to days
   - Detection: Temp >80Â°C + asymmetry

3. **Imbalance/Misalignment**
   - Symptom: Sudden vibration at specific frequencies
   - Warning Time: Days
   - Detection: Pattern changes + high current

### ISO 10816 Vibration Standards
```
Zone A (Good):           < 0.71 mm/s  âœ…
Zone B (Acceptable):     0.71-2.8 mm/s  âš ï¸
Zone C (Unsatisfactory): 2.8-7.1 mm/s  ğŸš¨
Zone D (Unacceptable):   > 7.1 mm/s  ğŸ›‘
```

---

## ğŸ“š Documentation

- **`HACKATHON_BRIEFING.md`** - Executive summary with immediate action items
- **`PROJECT_ANALYSIS.md`** - Comprehensive technical analysis and recommendations
- **`quick_start_analysis.py`** - Automated data processing script

---

## ğŸ› ï¸ Technology Stack

**Data Processing:** Pandas, NumPy, SciPy  
**Machine Learning:** Scikit-learn, XGBoost, LightGBM  
**Deep Learning:** TensorFlow/Keras (optional)  
**Visualization:** Matplotlib, Seaborn, Plotly  
**Dashboard:** Streamlit or Dash  
**Imbalanced Learning:** SMOTE, class weights  
**Interpretability:** SHAP values  

---

## âš ï¸ Common Pitfalls to Avoid

âŒ **DON'T:**
- Use all data for training (violates time-series nature)
- Optimize for accuracy (wrong metric for imbalanced data)
- Ignore domain knowledge (physics of fan failures)
- Build notebook-only solution (need deployable system)

âœ… **DO:**
- Use time-aware train/test split
- Optimize for recall (missing failures is worse than false alarms)
- Engineer physics-based features
- Build working demo dashboard

---

## ğŸ“ Team & Contact

**Hackathon Team:** [Your Team Name]  
**Project Lead:** [Your Name]  
**Technical Stack:** Python 3.8+, Scikit-learn, XGBoost, Streamlit  

---

## ğŸ† Expected Outcomes

By the end of this hackathon, we will deliver:

1. **Predictive Model** - ML system predicting failures 24-48 hours in advance
2. **Dashboard** - Real-time monitoring interface for maintenance teams
3. **Business Case** - ROI analysis showing $1.5M+ annual savings
4. **Deployment Plan** - Roadmap for OCP implementation

---

## ğŸ“ Getting Help

### Quick References
- **Clean data starts:** Row 15,610 (March 11, 2019 20:08)
- **Total usable records:** 502,793
- **Most critical sensors:** Vibration (Motor & Opposite)
- **Target metric:** Recall >85%

### Next Steps
1. âœ… Run `pip install -r requirements.txt`
2. âœ… Run `python quick_start_analysis.py`
3. âœ… Extract failure timestamps from Excel
4. âœ… Start building baseline model

---

## ğŸš€ Let's Build Something Amazing!

**Current Status:** âœ… Data analyzed and ready  
**Next Action:** Start model development  
**Timeline:** Hackathon in progress  

**Good luck! ğŸ†**

---

*Last Updated: Hackathon Day 1*  
*Project: OCP Predictive Maintenance*  
*Goal: Save $1.5M+ annually through AI-powered maintenance*